import './App.css';
import {Line} from 'react-chartjs-2';

const datastr = `2020-06-20T00:19:06 13.8
2020-06-20T00:49:08 12.7
2020-06-20T01:19:07 12.6
2020-06-20T01:49:11 15.3
2020-06-20T02:19:10 13.4
2020-06-20T02:49:12 13.3
2020-06-20T03:19:16 12.8
2020-06-20T03:49:15 12.9
2020-06-20T04:19:17 13.8
2020-06-20T05:19:23 13.1
2020-06-20T05:49:22 13.1
2020-06-20T06:19:24 12.6
2020-06-20T06:49:25 12.6
2020-06-20T07:49:32 12.3
2020-06-20T08:19:33 14.6
2020-06-20T08:49:32 12.4
2020-06-20T09:49:38 14.7
2020-06-20T10:19:37 18.1
2020-06-20T10:49:39 17.8
2020-06-20T11:49:42 17.3
2020-06-20T12:19:44 17.4
2020-06-20T12:49:46 15.9
2020-06-20T13:19:50 16.4
2020-06-20T13:49:52 16.1
2020-06-20T14:19:51 16.4
2020-06-20T14:49:52 16.6
2020-06-20T15:19:54 16.1
2020-06-20T15:49:56 15.9
2020-06-20T16:19:58 16.0
2020-06-20T16:50:02 16.1
2020-06-20T17:20:01 16.1
2020-06-20T17:50:03 16.5
2020-06-20T18:50:06 16.8
2020-06-20T19:20:11 15.4
2020-06-20T19:50:09 13.9
2020-06-20T20:50:16 15.8
2020-06-20T22:50:20 15.2
2020-06-20T23:20:21 14.2
2020-06-21T00:20:25 13.5
2020-06-21T00:50:26 13.4
2020-06-21T02:50:33 13.4
2020-06-21T03:20:36 14.7
2020-06-21T03:50:37 14.8
2020-06-21T04:20:47 14.0
2020-06-21T04:50:41 13.9
2020-06-21T05:20:43 13.5
2020-06-21T05:50:44 13.3
2020-06-21T06:20:46 14.8
2020-06-21T06:50:47 15.7
2020-06-21T07:20:49 15.9
2020-06-21T07:50:51 15.5
2020-06-21T08:20:53 14.0
2020-06-21T08:50:58 14.5
2020-06-21T09:20:56 15.3
2020-06-21T09:50:58 14.2
2020-06-21T10:20:59 13.9
2020-06-21T10:51:01 13.7
2020-06-21T11:21:03 14.1
2020-06-21T11:51:04 14.4
2020-06-21T12:21:10 14.3
2020-06-21T12:51:08 14.6
2020-06-21T14:21:13 14.6
2020-06-21T14:51:15 14.6
2020-06-21T15:21:16 14.6
2020-06-21T16:21:20 14.7
2020-06-21T16:51:21 14.6
2020-06-21T18:51:28 14.6
2020-06-21T19:21:38 14.3
2020-06-21T19:51:32 13.9
2020-06-21T20:51:35 15.7
2020-06-21T21:21:37 18.4
2020-06-21T22:51:42 18.6
2020-06-21T23:21:44 18.2
2020-06-21T23:51:49 18.1
2020-06-22T00:21:51 16.9
2020-06-22T00:51:49 17.9
2020-06-22T01:51:52 16.1
2020-06-22T02:21:54 15.8
2020-06-22T02:51:56 16.2
2020-06-22T03:22:01 15.5
2020-06-22T03:52:06 16.4
2020-06-22T04:22:01 16.6
2020-06-22T04:52:02 16.1
2020-06-22T05:22:04 16.4
2020-06-22T05:52:09 16.4
2020-06-22T06:22:07 15.9
2020-06-22T06:52:13 16.4
2020-06-22T07:22:11 15.0
2020-06-22T07:52:12 15.8
2020-06-22T08:22:14 15.3
2020-06-22T08:52:16 15.4
2020-06-22T09:52:19 15.8
2020-06-22T10:22:21 15.9
2020-06-22T11:22:24 17.1
2020-06-22T11:52:26 17.1
2020-06-22T12:22:27 17.1
2020-06-22T12:52:29 16.9
2020-06-22T13:52:33 16.9
2020-06-22T14:22:38 16.0
2020-06-22T14:52:36 16.2
2020-06-22T15:52:43 16.4
2020-06-22T16:22:41 16.5
2020-06-22T16:52:43 15.8
2020-06-22T17:22:45 15.8
2020-06-22T18:52:53 15.4
2020-06-22T19:22:51 15.4
2020-06-22T19:52:53 15.4
2020-06-22T20:22:58 15.2
2020-06-22T20:52:56 15.0
2020-06-22T21:23:02 15.1
2020-06-22T21:53:00 15.0
2020-06-22T22:23:01 15.0
2020-06-22T22:53:03 15.7
2020-06-22T23:23:05 15.1
2020-06-22T23:53:10 14.9
2020-06-23T00:23:08 16.1
2020-06-23T00:53:10 15.1
2020-06-23T01:23:15 16.3
2020-06-23T01:53:13 16.3
2020-06-23T02:23:15 16.4
2020-06-23T03:23:22 15.6
2020-06-23T03:53:20 15.3
2020-06-23T04:23:22 15.2
2020-06-23T04:53:24 16.3
2020-06-23T05:53:27 16.7
2020-06-23T06:23:29 16.4
2020-06-23T06:53:30 16.4
2020-06-23T07:53:34 17.4
2020-06-23T08:23:35 17.6
2020-06-23T09:23:39 16.3
2020-06-23T10:23:42 16.4
2020-06-23T10:53:44 16.6
2020-06-23T11:53:47 17.6
2020-06-23T12:23:49 16.8
2020-06-23T12:53:54 16.8
2020-06-23T13:23:52 16.5
2020-06-23T13:53:54 16.9
2020-06-23T14:24:03 16.8
2020-06-23T14:54:05 15.9
2020-06-23T15:23:59 15.6
2020-06-23T15:54:04 15.6
2020-06-23T16:24:10 16.4
2020-06-23T16:54:04 16.7
2020-06-23T17:54:11 14.8
2020-06-23T18:24:09 14.7
2020-06-23T18:54:11 15.0
2020-06-23T19:54:18 15.8
2020-06-23T20:24:16 15.2
2020-06-23T20:54:22 15.0
2020-06-23T21:24:19 15.3
2020-06-23T21:54:25 14.4
2020-06-23T22:24:23 14.6
2020-06-23T22:54:28 14.6
2020-06-23T23:24:26 14.6
2020-06-23T23:54:32 14.4
2020-06-24T00:24:30 16.8
2020-06-24T00:54:32 16.8
2020-06-24T01:24:37 17.2
2020-06-24T01:54:35 16.3
2020-06-24T02:24:36 15.1
2020-06-24T02:54:38 14.9
2020-06-24T03:24:47 15.4
2020-06-24T03:54:41 15.8
2020-06-24T04:24:43 14.9
2020-06-24T04:54:45 15.0
2020-06-24T05:24:54 15.6
2020-06-24T05:54:48 15.3
2020-06-24T06:24:50 15.4
2020-06-24T06:54:52 16.8
2020-06-24T07:24:53 16.9
2020-06-24T08:25:00 16.0
2020-06-24T08:55:02 15.9
2020-06-24T09:25:00 15.9
2020-06-24T10:25:03 15.4
2020-06-24T10:55:05 16.9
2020-06-24T11:25:11 17.4
2020-06-24T11:55:09 17.0
2020-06-24T12:25:10 15.8
2020-06-24T12:55:16 15.8
2020-06-24T13:25:14 16.0
2020-06-24T13:55:15 16.3
2020-06-24T14:25:17 16.8
2020-06-24T14:55:23 16.3
2020-06-24T15:25:21 15.7
2020-06-24T15:55:22 15.2
2020-06-24T16:25:27 15.4
2020-06-24T16:55:26 15.7
2020-06-24T17:55:29 15.9
2020-06-24T18:25:31 16.1
2020-06-24T18:55:32 16.1
2020-06-24T19:25:34 15.1
2020-06-24T20:25:37 15.2
2020-06-24T20:55:39 15.1
2020-06-24T21:25:40 15.1
2020-06-24T21:55:42 15.3
2020-06-24T22:25:43 15.9
2020-06-24T22:55:45 15.6
2020-06-24T23:25:50 14.9
2020-06-24T23:55:49 14.9
2020-06-25T00:25:50 15.1
2020-06-25T00:55:55 15.8
2020-06-25T01:25:57 15.6
2020-06-25T01:55:55 15.3
2020-06-25T02:25:57 16.0
2020-06-25T02:55:59 16.2
2020-06-25T03:26:03 16.4
2020-06-25T03:56:02 15.3
2020-06-25T04:56:05 15.3
2020-06-25T05:26:07 15.8
2020-06-25T05:56:09 15.4
2020-06-25T06:26:11 15.1
2020-06-25T07:26:14 15.3
2020-06-25T07:56:16 15.2
2020-06-25T08:26:17 15.4
2020-06-25T09:26:27 15.4
2020-06-25T09:56:25 16.7
2020-06-25T10:26:24 16.9
2020-06-25T10:56:32 16.9
2020-06-25T11:26:30 17.1
2020-06-25T12:26:31 16.4
2020-06-25T12:56:33 16.5
2020-06-25T13:26:34 16.7
2020-06-25T13:56:36 17.1
2020-06-25T14:26:38 17.1
2020-06-25T14:56:39 17.6
2020-06-25T15:26:44 16.6
2020-06-25T15:56:49 17.1
2020-06-25T16:26:44 16.8
2020-06-25T16:56:49 16.4
2020-06-25T17:56:52 15.9
2020-06-25T18:26:51 16.7
2020-06-25T18:56:53 16.6
2020-06-25T19:26:55 16.7
2020-06-25T20:26:58 16.6
2020-06-25T20:57:00 17.5
2020-06-25T21:27:04 17.8
2020-06-25T21:57:03 17.8
2020-06-25T22:27:05 17.1
2020-06-25T22:57:06 17.3
2020-06-25T23:57:10 15.5
2020-06-26T00:27:12 15.9
2020-06-26T00:57:13 16.4
2020-06-26T01:27:15 17.6
2020-06-26T02:27:18 17.9
2020-06-26T02:57:20 16.4
2020-06-26T03:27:22 16.3
2020-06-26T03:57:23 16.8
2020-06-26T04:57:27 15.5
2020-06-26T05:27:31 14.4
2020-06-26T05:57:30 14.4
2020-06-26T06:57:34 14.3
2020-06-26T07:27:38 14.4
2020-06-26T07:57:37 14.5
2020-06-26T09:57:44 16.4
2020-06-26T10:27:45 16.2
2020-06-26T10:57:50 16.2
2020-06-26T11:27:52 16.1
2020-06-26T11:57:53 16.2
2020-06-26T12:27:52 16.3
2020-06-26T12:57:54 16.5
2020-06-26T13:28:02 16.6
2020-06-26T13:57:57 16.8
2020-06-26T14:27:59 16.4
2020-06-26T14:58:04 16.8
2020-06-26T15:28:02 16.6
2020-06-26T15:58:04 16.8
2020-06-26T16:58:07 17.0
2020-06-26T17:28:09 17.2
2020-06-26T17:58:11 17.3
2020-06-26T18:28:13 16.8
2020-06-26T18:58:14 16.8
2020-06-26T19:28:16 17.7
2020-06-26T19:58:18 17.4
2020-06-26T20:58:21 17.3
2020-06-26T21:28:23 17.1
2020-06-26T21:58:24 17.4
2020-06-26T22:28:29 18.3
2020-06-26T22:58:31 17.1
2020-06-26T23:28:30 18.8
2020-06-26T23:58:34 16.4
2020-06-27T00:28:33 16.1
2020-06-27T00:58:35 18.5
2020-06-27T01:28:39 17.8
2020-06-27T01:58:41 15.8
2020-06-27T02:28:40 16.3
2020-06-27T03:28:43 15.1
2020-06-27T03:58:45 16.1
2020-06-27T04:28:46 17.2
2020-06-27T04:58:48 14.9
2020-06-27T05:28:53 15.3
2020-06-27T06:28:56 15.9
2020-06-27T06:58:55 17.1
2020-06-27T07:59:01 16.3
2020-06-27T08:29:03 18.4
2020-06-27T08:59:02 19.4
2020-06-27T09:29:03 17.6
2020-06-27T09:59:08 17.2
2020-06-27T10:29:07 18.7
2020-06-27T10:59:08 17.8
2020-06-27T12:29:14 18.1
2020-06-27T12:59:18 19.4
2020-06-27T13:29:17 19.9
2020-06-27T14:29:23 18.6
2020-06-27T14:59:22 18.8
2020-06-27T15:29:24 18.8
2020-06-27T17:29:31 17.4
2020-06-27T17:59:35 16.9
2020-06-27T18:29:39 16.4
2020-06-27T18:59:37 18.2
2020-06-27T19:29:38 17.1
2020-06-27T19:59:43 18.8
2020-06-27T20:29:45 17.9
2020-06-27T20:59:43 18.6
2020-06-27T21:29:45 17.8
2020-06-27T22:29:52 17.8
2020-06-27T22:59:50 18.8
2020-06-27T23:29:52 18.1
2020-06-27T23:59:53 18.1`;

function read_all_temperatures(datastr) {
	var lines = datastr.split("\n");
	var temperatures = new Array(lines.length);
	var dates = new Array(lines.length);
	var data = new Array(lines.length);
	for (var i = 0; i < lines.length; i++) {
		var cols = lines[i].split(" ");
		var datestr = cols[0];
		var temperature = parseFloat(cols[1]);
		temperatures[i] = temperature;
		dates[i] = new Date(datestr);
		data[i] = {t: dates[i], y: temperature};
	}
	return data;
}

function plot_temperatures_line(data, divname) {
	/*
	var ctx = document.getElementById(divname).getContext('2d');
	var chart = new Chart(ctx, {
		type: 'line',
		data: {
			datasets: [{
				label: 'Badetemperatur',
				data: data,
				backgroundColor: 'rgba(255, 0, 0, 0.5)',
			}]
		},
		options: {
			scales: {
				xAxes: [{
					type: 'time',
					time: {
						unit: "day",
						unitStepSize: 1,
						displayFormats: {
							'day': 'ddd',
						},
					},
					label: "Ukedag",
				}],
				yAxes: [{
					ticks: {
						beginAtZero: true
					},
				}]
			}
		}
	});
	*/
}

function App() {
	var data = read_all_temperatures(datastr);
	// plot_temperatures_line(data, "abc");
	//
	console.log(data);

	var state = {
		datasets: [{
			label: 'Badetemperatur',
			data: data,
			backgroundColor: 'rgba(255, 0, 0, 0.5)',
		}]
	};

	return (
	  <div className="App">
	  	<h1>BadHer</h1>
		<Line
			data={state}
			options={{
				scales: {
					xAxes: [{
						type: 'time',
						time: {
							unit: "day",
							unitStepSize: 1,
							displayFormats: {
								'day': 'ddd',
							},
						},
						scaleLabel: {
							display: true,
							labelString: "Ukedag",
						}
					}],
					yAxes: [{
						ticks: {
							beginAtZero: true
						},
						scaleLabel: {
							display: true,
							labelString: "Temperatur",
						}
					}]
				}
			}}
			width={300}
			height={100}
		/>
	  </div>
	);
}

export default App;
